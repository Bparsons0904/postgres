pg_stat_statements:
  query: |
    SELECT queryid, query, calls, total_exec_time / 1000 as total_exec_time_ms,
           min_exec_time / 1000 as min_exec_time_ms,
           max_exec_time / 1000 as max_exec_time_ms,
           mean_exec_time / 1000 as mean_exec_time_ms,
           rows
    FROM pg_stat_statements
  metrics:
    - queryid:
        usage: "LABEL"
        description: "Query ID"
    - calls:
        usage: "COUNTER"
        description: "Number of times executed"
    - total_exec_time_ms:
        usage: "COUNTER"
        description: "Total time spent in the statement in milliseconds"
    - min_exec_time_ms:
        usage: "GAUGE"
        description: "Minimum time spent in the statement in milliseconds"
    - max_exec_time_ms:
        usage: "GAUGE"
        description: "Maximum time spent in the statement in milliseconds"
    - mean_exec_time_ms:
        usage: "GAUGE"
        description: "Mean time spent in the statement in milliseconds"
    - rows:
        usage: "COUNTER"
        description: "Total number of rows retrieved or affected"
pg_database_size:
  query: |
    SELECT datname, pg_database_size(datname) as size_bytes
    FROM pg_database
  metrics:
    - datname:
        usage: "LABEL"
        description: "Name of the database"
    - size_bytes:
        usage: "GAUGE"
        description: "Disk space used by the database"
